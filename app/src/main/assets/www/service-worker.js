function getResourceUrl(e){return"/"===(e="/"+e.split("?")[0].replace(/^(?:\/\/|[^\/]+)*\//,""))&&(e="/index.html"),e}self.addEventListener("install",function(e){e.waitUntil(caches.open("feelingunlucky").then(function(e){return e.addAll(["/css/homepage.css","/js/trianglify.js","/js/confetti.js","/js/google-search.js","/js/jquery.js","/js/jquery-color.js","/js/main.js","/index.html","/favicon.ico"])}))}),self.addEventListener("fetch",function(e){e.respondWith(fetch(e.request).then(function(n){return caches.open("feelingunlucky").then(function(t){return e.request.url=getResourceUrl(e.request.url),t.put(e.request,n.clone()).then(function(){return n})})}).catch(function(){return caches.open("feelingunlucky").then(function(n){return e.request.url=getResourceUrl(e.request.url),n.match(e.request)})}))});